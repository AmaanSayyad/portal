---
title: Smart Contracts
author: "Jake Loo"
authorAvatar: "/assets/portal/authors/jake-loo.jpeg"
authorTwitter: "https://twitter.com/jake_loo"
summary: "The smart contracts powering the protocol."
date: "2021-09-16"
updated: "2021-10-30"
---

The following lists the smart contracts powering the protocol, what they store, and what they do. For a higher level picture of what these smart contracts let you accomplish and how work they work, read the protocol's [non-technical](/portal/docs/protocol/overview) and [technical](/portal/docs/protocol/architecture) overviews.

## Registry.sol

`Registry.sol is the 'main' contract of the protocol that lets you create applications under the protocol.

- It tracks all applications you create under the protocol by versions.
- It deploys a 'forwarder' contract - crucial infrastructure for 'gasless' transactions, which let you pay the network's gas fees on the behalf of your users, for a better user experience.

## ProtocolControl.sol

`ProtocolControl.sol` is the smart contract represented as an 'application' on the dashboard. It acts as a control center for all modules like **Token**, **NFT Collection**, **Pack** and **Market**.

- It defines the `PROTOCOL_ADMIN` role, and contains functions to grant or revoke that role. Anyone with this role can perform administrative tasks using this contract.
- It stores the addresses of all components of the application. New components can be added, and existing modules can be updated by those with the `PROTOCOL_ADMIN` role.

## Coin.sol

`Coin.sol` is an [ERC 20](https://eips.ethereum.org/EIPS/eip-20) token contract.

It uses [OpenZeppelin's tested and audited ERC20PresetMinterPauser](https://docs.openzeppelin.com/contracts/4.x/api/token/erc20#ERC20PresetMinterPauser), giving the contract's deployer full control over the mechanics of the currency, to begin with.

## NFTCollection.sol

`NFTCollection.sol` is an [ERC 1155](https://eips.ethereum.org/EIPS/eip-1155) smart contract.

It contains all logic for creating NFTs, and wrapping tokens of other standards (e.g. [ERC 721](https://eips.ethereum.org/EIPS/eip-721)) as [ERC 1155](https://eips.ethereum.org/EIPS/eip-1155) NFTs. These NFTs can be sold in your application's **Market** components, or any other NFT marketplace like [OpenSea](https://opensea.io/).

## Pack.sol

`Pack.sol` is the [ERC 1155](https://eips.ethereum.org/EIPS/eip-1155) smart contract for packs.

- It contains all logic for creating packs, opening a pack, and distributing items to pack openers.
- It inherits [VRFConsumerBase](https://github.com/smartcontractkit/chainlink/blob/master/contracts/src/v0.6/VRFConsumerBase.sol) and interacts with [Chainlink VRF](https://docs.chain.link/docs/chainlink-vrf-api-reference/) to source a random number when a pack is opened.
- It is an [IERC1155Receiver](https://docs.openzeppelin.com/contracts/4.x/api/token/erc1155#IERC1155Receiver), and holds items that haven't been distributed to pack openers.

## Market.sol

`Market.sol` is a marketplace for buying and selling packs and NFTs.

It enables buying and selling packs and NFTs, and distributes the relevant royalties on every pack and reward sale / resale.

---
title: Marketplace Code Examples
author: ""
authorAvatar: ""
authorTwitter: ""
summary: "Easy copy and paste snippets to use thirdweb Marketplace module"
updated: "2022-01-16"
---

### Create Auction Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const createAuctionListing = async () => {
  // The contract address of the NFT that will be auctioned
  const nftAddress = '<NFT_CONTRACT_ADDRESS>';

  await market
    .createAuctionListing({
      assetContractAddress: nftAddress,
      buyoutPricePerToken: ethers.utils.parseUnits('10'),
      currencyContractAddress: '<CURRENCY_CONTRACT_ADDRESS>',
      listingDurationInSeconds: 60 * 60 * 24,
      quantity: 1,
      reservePricePerToken: 1,
      startTimeInSeconds: Math.floor(Date.now() / 1000),
      tokenId: 0
    })
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};

createAuctionListing();
```

### Create Direct Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const createDirectListing = async () => {
    // The contract address of the NFT that will be auctioned
    const nftAddress = '<NFT_CONTRACT_ADDRESS>';
  
    await market
      .createDirectListing({
        assetContractAddress: nftAddress,
        buyoutPricePerToken: ethers.utils.parseUnits('1'),
        currencyContractAddress: '<CURRENCY_CONTRACT_ADDRESS>',
        listingDurationInSeconds: 60 * 60 * 24,
        quantity: 1,
        startTimeInSeconds: Math.floor(Date.now() / 1000),
        tokenId: 1
      })
      .then((data) => console.log(data))
      .catch((error) => console.error(error));
  };
```

### Get All Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getAllListings = async () => {
    await market
      .getAllListings()
      .then((data) => console.log(data))
      .catch((error) => console.error(error));
  };
```

### Get Auction Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getAuctionListing = async () => {
  // Get an auction listing by listingId
  await market
    .getAuctionListing(0)
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Get Direct Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getDirectListing = async () => {
    // Get a direct listing by listingId
    await market
      .getDirectListing(1)
      .then((data) => console.log(data))
      .catch((error) => console.error(error));
  };
```

### Get Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getListing = async () => {
  // Get any listing by listingId
  await market
    .getListing(2)
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Update Auction Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const updateAuctionListing = async () => {
  await market
    .updateAuctionListing({
      assetContractAddress: '<NFT_CONTRACT_ADDRESS>',
      buyoutPrice: 15,
      currencyContractAddress: '<CURRENCY_CONTRACT_ADDRESS>',
      buyoutCurrencyValuePerToken: {
        name: '',
        symbol: '',
        decimals: 0,
        value: '15',
        displayValue: '15'
      },
      id: '7',
      tokenId: 1,
      quantity: 1,
      startTimeInEpochSeconds: 1641721828,
      asset: {
        name: 'Update Test',
        description: 'The first updated NFT',
        image:
          'ipfs://bafybeieicywyvnaher24isrxoagjxbro6qr6kbzcz2feldbquoqeag7ivm',
        external_url: '',
        properties: {},
        id: '1',
        uri: ''
      },
      reservePriceCurrencyValuePerToken: {
        name: '',
        symbol: '',
        decimals: 0,
        value: '1',
        displayValue: '1'
      },
      reservePrice: 1,
      endTimeInEpochSeconds: 1641797690,
      sellerAddress: '<SELLER_ADDRESS>',
      type: 1
    })
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Update Direct Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const updateDirectListing = async () => {
  await market
    .updateDirectListing({
      assetContractAddress: '<NFT_CONTRACT_ADDRESS>',
      buyoutPrice: 5,
      currencyContractAddress: '<CURRENCY_CONTRACT_ADDRESS>',
      buyoutCurrencyValuePerToken: {
        name: '',
        symbol: '',
        decimals: 0,
        value: '3',
        displayValue: '3'
      },
      id: '8',
      tokenId: 4,
      quantity: 1,
      startTimeInSeconds: parseInt('0x61dac1aa', 16),
      asset: {
        name: 'NFT 4',
        description: '',
        image:
          'ipfs://bafybeie7b3zj7phtsuuo6achh2avxp5gtm3fxopyhyec677dn7xgg6vfn4',
        external_url: '',
        properties: {},
        id: '4',
        uri: ''
      },
      secondsUntilEnd: parseInt('0x61dac52e', 16),
      sellerAddress: '<SELLER_ADDRESS>',
      type: 0
    })
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Accept Direct Listing Offer

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const acceptDirectListingOffer = async () => {
	// Accept the offer of the wallet address for the listingId listing
  await market
    .acceptDirectListingOffer(0, '<BUYER_ADDRESS>')
    .catch((error) => console.error(error));
};
```

### Buyout Auction Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const buyoutAuction = async () => {
	// Buyout the auction listing with listingId 1
  await market.buyoutAuctionListing(1).catch((error) => console.error(error));
};
```

### Buyout Direct Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const buyoutDirectListing = async () => {
	// Buyout the quantity of the direct listing with listingId 2
  await market
    .buyoutDirectListing({ listingId: 2, quantityDesired: 1 })
    .catch((error) => console.error(error));
};
```

### Buyout Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const buyoutListing = async () => {
	// Buyout a listing. (listingId, quantity). 
  await market.buyoutListing(0, 1).catch((error) => console.error(error));
};
```

### Get Bid Buffer Bps

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getBufferBps = async () => {
  await market
    .getBidBufferBps()
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Get Active Offer

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getActiveOffer = async () => {
// Get offers from the specified wallet on the specified listing
  await market
    .getActiveOffer(0, '<BUYER_ADDRESS>')
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Cancel Auction Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const cancelAuction = async () => {
// Cancel auction with listingId 0
  await market.cancelAuctionListing(0).catch((error) => console.error(error));
};
```

### Cancel Direct Listing

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const cancelDirectListing = async () => {
// Cancel direct listing with listingId 1
  await market.cancelDirectListing(1).catch((error) => console.error(error));
};
```

### Is Winning Bid

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const isWinning = async () => {
  await market
    .isWinningBid(5, 7, 15)
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Get Winning Bid

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getWinningBid = async () => {
  // Get winning bid, if it exists, for listingId 2
  await market
    .getWinningBid(2)
    .then((data) => console.log(data))
    .catch((error) => console.error(error));
};
```

### Get Time Buffer in Seconds

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const getTimeBuffer = async () => {
    await market
      .getTimeBufferInSeconds()
      .then((data) => console.log(data))
      .catch((error) => console.error(error));
  };
```

### Make Direct Listing Offer

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const makeDirectListingBid = async () => {
    await market
      .makeDirectListingOffer({
        listingId: 1,
        quantityDesired: 1,
        currencyContractAddress: '<CURRENCY_CONTRACT_ADDRESS',
        pricePerToken: 2
      })
      .then((data) => console.log(data))
      .catch((error) => console.log(error));
  };
```

### Make Auction Bid

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const makeAuctionBid = async () => {
  await market
    .makeAuctionListingBid({ listingId: 0, pricePerToken: 2 })
    .then((data) => console.log(data))
    .catch((error) => console.log(error));
};
```

### Set Bid Buffer Bps

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const setBufferBps = async () => {
  await market.setBidBufferBps(5).catch((error) => console.error(error));
};
```

### Set Time Buffer in Seconds

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const setTimeBuffer = async () => {
  await market
    .setTimeBufferInSeconds(300)
    .catch((error) => console.error(error));
};
```

### Close Auction

```js
// Set variable for the market module contract address which can be found after creating a market module in the dashboard
const marketAddress = '<MARKETPLACE_CONTRACT_ADDRESS>';

// Initialize the market module with the contract address
const market = sdk.getMarketplaceModule(marketAddress);

const closeAuction = async () => {
	// Close auction with listingId 3 for buyer or seller
  await market.closeAuctionListing(3, '<BUYER_ADDRESS> or <SELLER_ADDRESS>' ).catch((error) => console.error(error));
};
```